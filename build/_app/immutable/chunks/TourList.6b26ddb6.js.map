{"version":3,"file":"TourList.6b26ddb6.js","sources":["../../../../../../src/components/TourList.svelte"],"sourcesContent":["<script lang=\"ts\">\r\n    import {goto} from \"$app/navigation\";\r\n    import ContextButton from \"./ContextButton.svelte\";\r\n    import {fade} from 'svelte/transition';\r\n\r\n    export let data;\r\n    export let href;\r\n\r\n    // TODO: Current user name\r\n\r\n    // @ts-ignore\r\n    let user = ServiceManager.getUserService().getCurrentUser();\r\n    console.log(user);\r\n\r\n    function logout() {\r\n        // @ts-ignore\r\n        ServiceManager.getUserService().logout();\r\n        goto('/login');\r\n    }\r\n\r\n    function startTour(id) {\r\n        console.log(`Enrolling tour with id: ${id}`);\r\n        // @ts-ignore\r\n        ServiceManager.getUserService().enrollTour(parseInt(id));\r\n        goto(`/tours/${id}`);\r\n    }\r\n</script>\r\n\r\n<main class=\"flex items-center h-screen flex-col py-8 mx-48\">\r\n    <h1>City Guide Walks</h1>\r\n    <header class=\"mb-8 flex justify-between items-center w-full\">\r\n        <nav class=\"flex flex-row gap-4\">\r\n            <a href=\"/\" class=\"nav-item {href === '/' ? 'selected' : ''}\">\r\n                Všetky výlety\r\n            </a>\r\n            <a href=\"/tours/ongoing\" class=\"nav-item {href === '/tours/ongoing' ? 'selected' : ''}\">\r\n                Prebiehajúce výlety\r\n            </a>\r\n            <a href=\"/tours/finished\" class=\"nav-item {href === '/tours/finished' ? 'selected' : ''}\">\r\n                Absolvované výlety\r\n            </a>\r\n        </nav>\r\n        <div class=\"flex items-center gap-2\">\r\n            <h3>{user.username}</h3>\r\n            <img src=\"{user.getGravatarUrl()}\"\r\n                 class=\"max-w-[32px] rounded-full\">\r\n            <button type=\"button\" on:click|preventDefault={logout}>\r\n                <svg width=\"24px\" height=\"24px\" stroke-width=\"1.5\" viewBox=\"0 0 24 24\" fill=\"none\"\r\n                     xmlns=\"http://www.w3.org/2000/svg\" class=\"stroke-neutral-400 hover:stroke-neutral-100\">\r\n                    <path d=\"M12 12h7m0 0l-3 3m3-3l-3-3M19 6V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2h10a2 2 0 002-2v-1\"\r\n                          stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\r\n                </svg>\r\n            </button>\r\n        </div>\r\n    </header>\r\n    <section class=\"flex flex-col gap-8 pb-8\" id=\"tour-container\">\r\n        {#each [...data] as [tour, status], i}\r\n            <div class=\"text-left flex flex-row gap-4\" in:fade>\r\n                <img src=\"{tour.image}\" alt=\"{tour.name}\" loading=\"lazy\" class=\"w-80 max-w-xs rounded-lg aspect-auto object-cover shrink-0 bg-neutral-800\">\r\n                <!--<object data=\"{tour.image}\" type=\"image/jpeg\" class=\"max-w-xs h-60 w-80 rounded-lg aspect-auto object-cover basis-full shrink-0\">\r\n                    <div class=\"h-60 w-80 bg-neutral-800 animate-pulse rounded-lg\"></div>\r\n                </object>-->\r\n                <div class=\"flex flex-col justify-between\" data-sveltekit-preload-data=\"off\">\r\n                    <div>\r\n                        <div class=\"flex justify-between items-center\">\r\n                            <a class=\"mb-1 h2\" href=\"/tours/{tour.id}\">{tour.name}</a>\r\n                            {#if tour['averageRating'] !== -1}\r\n                                <div class=\"flex items-center gap-2 stroke-yellow-400 text-yellow-400\">\r\n                                    <span>{tour['averageRating'] % 1 === 0 ? tour['averageRating'].toFixed(0) : tour['averageRating'].toFixed(2)}\r\n                                        /5</span>\r\n                                    <svg width=\"20px\" height=\"20px\" stroke-width=\"1.5\" viewBox=\"0 0 24 24\" fill=\"none\"\r\n                                         xmlns=\"http://www.w3.org/2000/svg\">\r\n                                        <path d=\"M8.587 8.236l2.598-5.232a.911.911 0 011.63 0l2.598 5.232 5.808.844a.902.902 0 01.503 1.542l-4.202 4.07.992 5.75c.127.738-.653 1.3-1.32.952L12 18.678l-5.195 2.716c-.666.349-1.446-.214-1.319-.953l.992-5.75-4.202-4.07a.902.902 0 01.503-1.54l5.808-.845z\"\r\n                                              stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\r\n                                    </svg>\r\n                                </div>\r\n                            {/if}\r\n                        </div>\r\n                        <p>{tour.description}</p>\r\n                    </div>\r\n                    <ContextButton tour={tour} status={status} />\r\n                </div>\r\n            </div>\r\n        {/each}\r\n    </section>\r\n</main>"],"names":["t0_value","ctx","insert_hydration","target","div","anchor","append_hydration","span","svg","path","dirty","set_data","t0","t1_value","t4_value","create_if_block","src_url_equal","img","img_src_value","attr","img_alt_value","a","a_href_value","div3","div2","div1","div0","p","current","t1","t4","t8_value","a0","a0_class_value","a1","a1_class_value","a2","a2_class_value","main","h1","header","nav","h3","button","section","i","each_blocks","data","$$props","href","user","logout","goto"],"mappings":"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"}